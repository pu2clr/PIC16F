# PIC12F675 and 74HC151 MULTIPLEXER 

This folder showcases the processing of analog or digital readings from various sensors using the PIC12F675 and the 74HC151 multiplexer.


## Content

1. [Overview](#overview)
2. [About this project](#about-this-project)
3. [Schematic - PIC12F675 and 74HC151 monitoring 4 sensors](#pic12f675-and-74hc151-monitoring-4-sensors)
    * [KiCad Schematic](./KiCad/)
4. [MPLAB EXAMPLES](./MPLAB_EXAMPLE/)
5. [Prototype]()    
8. [References](#references)



## Overview

The PIC12F675 is a compact, versatile microcontroller from Microchip's PIC12F series, offering a mix of analog and digital functionalities in a small 8-pin package. This microcontroller stands out for its integrated 10-bit Analog-to-Digital Converter (ADC), which supports up to four analog inputs, allowing for direct interfacing with various sensors and analog signals. These analog channels make the PIC12F675 particularly suitable for applications requiring the measurement of physical parameters such as temperature, light intensity, or other analog sensor data.

Although the PIC12F675 features four analog inputs (AN0, AN1, AN2, and AN3), dedicating all of these for analog readings can render it impractical due to the limited number of pins remaining for other crucial functionalities, such as triggering alerts for external modules. For applications necessitating the analog monitoring of multiple sensors, leveraging a multiplexer such as the 74HC151 offers a practical solution. This approach enables the efficient connection of up to eight sensors to the system, optimizing resource use while maintaining functionality. Once again, the purpose of this experiment is merely to demonstrate the interfacing of the 74HC151 multiplexer with the microcontroller, without necessarily making a judgment on the strategy employed to address a potential problem.

## About this project 

This project is designed to gather data from 8 LDR circuit. Utilizing the PIC12F675 microcontroller in conjunction with the 74HC151 multiplexer, it precisely reads the analog signals generated by the LDR sensors. Based on these readings, the system is programmed to emit an alert under specific conditions. 

Although the 74HC151 did not perform well when working with analog signals, especially signals below 2V, in this application the analog configuration was not a problem due to the nature of the application, where the dark condition will produce a voltage much higher than 2V. It is also possible in this case to perform a digital reading instead of an analog reading, since the signal read from the sensors is interpreted as a high logic level when there is light and a low logic level when there is no light.


It's important to highlight that since these are analog sensors, which typically produce a voltage between 0 and 5V depending on the magnitude they are designed to measure, it is easily feasible to replace them with other types of analog sensors as required by your application.



## PIC12F675 and 74HC151 monitoring 8 sensors


![PIC12F675 and 74HC151 monitoring 8 sensors](./SCHEMATIC_pic12f675_74hc151_8_sensors.jpg)


The configuration of the LDR with a 1M ohm resistor favors low power consumption for the circuit. However, it is possible to use values lower than 1M without significantly altering the outcome of the experiment.


The table below showcases the combinations for sensor selection based on the high and low values of the GP0, GP1, and GP2 pins of the PIC12F675, which are connected to the S0, S1, and S2 pins of the 74HC151 device, respectively.


| ANALOG SENSOR |  S2 / GP2  |  S1 / GP1 | S0 / GP0 |   
| --------------| ---------  | --------- | -------- |
| Sensor 0      |     0      |    0      |     0    |
| Sensor 1      |     0      |    0      |     1    |
| Sensor 2      |     0      |    1      |     0    |
| Sensor 3      |     0      |    1      |     1    |
| Sensor 4      |     1      |    0      |     0    |
| Sensor 5      |     1      |    0      |     1    |
| Sensor 6      |     1      |    1      |     0    |
| Sensor 7      |     1      |    1      |     1    |


## PIC12F675 PINOUT

![PIC12F675 PINOUT](../../../images/PIC12F675_PINOUT.png)


The PIC12F675 is a part of Microchip's PIC12F series of microcontrollers, which are known for their compact size and efficiency in simple applications. Here's a breakdown of each pin's function on the PIC12F675:

1. **GP0/AN0 (Pin 7)**: This pin serves as a general-purpose input/output (GPIO) pin and can also function as an analog input (AN0). It's often used for reading analog values when the microcontroller's analog-to-digital converter (ADC) is utilized. **In this application, this pin is used as analog input**.

2. **GP1/AN1 (Pin 6)**: Similar to GP0, this pin can be used as either a GPIO or an analog input (AN1). This versatility allows for flexibility in connecting various sensors or input devices. **In this application this pin is used as digital output (LSB) of sensor selection**. 

3. **GP2/AN2/INT/COUT/VREF (Pin 5)**: This multi-functional pin can act as a GPIO, an analog input (AN2), an external interrupt input (INT), a comparator output (COUT), or a voltage reference (VREF). Its diverse functions enable it to support a wide range of applications.

4. **GP3/MCLR/VPP (Pin 4)**: This pin is used as the Master Clear (Reset) input (MCLR) when configured as an input. It can also function as the programming voltage input (VPP) during In-Circuit Serial Programming (ICSP). Note that GP3 is input-only and has an internal weak pull-up.

5. **GP4/AN3/T0CKI/CIN+ (Pin 3)**: This pin offers functionalities such as GPIO, analog input (AN3), timer0 clock input (T0CKI), and positive input to the comparator (CIN+). It's useful for timing applications and analog signal processing.

6. **GP5/CIN-/OSC1/CLKIN (Pin 2)**: GP5 serves multiple roles, including GPIO, negative input to the comparator (CIN-), and oscillator input (OSC1/CLKIN) for external clock sources.

7. **OSC2/CLKOUT (Pin 8)**: This pin can be used as an oscillator output (OSC2/CLKOUT) for clocking external devices or for feedback in resonator configurations. It's also involved in the microcontroller's internal clock generation system.

8. **VDD (Pin 1)**: This is the positive power supply pin. The PIC12F220 typically operates at a voltage range of 2.0V to 5.5V.

9. **VSS (Pin 8)**: This pin is the ground (GND) connection for the microcontroller.


## 74HC151 PINOUT 

![74HC151 PINOUT](../../../images/74hc151_pinout.png)


The 74HC151 is an 8-input multiplexer with three select inputs (S0, S1, S2), eight data inputs (I0 to I7), one output (Y) or (Q), one complementary output Y' or  Q', one enable input (E), and two power supply pins (Vcc and GND). Here's a description of each pin:

1. **I0 to I7 (Data Inputs)**: These are the eight inputs of the multiplexer. Depending on the state of the select inputs (S0, S1, S2), one of these data inputs is passed through to the output.

2. **S0, S1, S2 (Select Inputs)**: These three pins are used to select one of the eight data inputs to be passed to the output. The combination of these inputs, being either high (1) or low (0), determines which data input (D0 to D7) is connected to the output.

3. **Y (Output)**: This is the multiplexer’s main output. It carries the signal from the selected data input (D0 to D7), depending on the configuration of the select inputs (S0, S1, S2).

4. **Y' (Complementary Output)**: This output is the inverse of the Y output. If Y is high, Y' will be low, and vice versa.

5. **E (Enable Input)**: This active low input enables the multiplexer’s operation. When E is low, the multiplexer functions normally, and the selected input is passed to the output. When E is high, both outputs Y and Y' are disabled, typically resulting in a high impedance state at the outputs, effectively disconnecting the output from the circuit.

6. **Vcc (Power Supply)**: This pin connects to the positive supply voltage. For the 74HC151, this is typically +5V.

7. **GND (Ground)**: This is the ground pin, which should be connected to the system’s ground.

This configuration allows the 74HC151 to select one of eight signals to be passed to its output, controlled by the select inputs and enabled by the E pin, making it highly useful in digital circuits for signal routing and data selection.


# Prototype 

![Prototype](./PROTOTYPE_pic12f675_74hc151_8_sensors.jpg)

 [Click here to see the video](https://youtu.be/7ZKe1AUOCyM?si=aRP-EVJyRZUpQNNq)



## Contribution

If you've found value in this repository, please consider contributing. Your support will assist me in acquiring new components and equipment, as well as maintaining the essential infrastructure for the development of future projects. [Click here](https://www.paypal.com/donate/?business=LLV4PHKTXC4JW&no_recurring=0&item_name=Your+support+will+assist+me+in++maintaining+the+essential+infrastructure+for+the+development+of+future+projects.+&currency_code=BRL) to make a donation or scan the QR code provided below. 

![Contributing QR Code](../../../images/under_construction.png)



## References

* [74HC151 8-input multiplexer](https://assets.nexperia.com/documents/data-sheet/74HC_HCT151.pdf)
* [CDx4HC151, CDx4HCT151 High-Speed CMOS Logic 8-Input Multiplexer](https://www.ti.com/lit/ds/symlink/cd74hct151.pdf?ts=1711584749742)

